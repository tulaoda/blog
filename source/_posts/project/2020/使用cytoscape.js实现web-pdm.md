---
title: 使用 cytoscape.js 实现 web-pdm - cytoscape 简介（上）
date: 2020-11-23 11:10:01
cover: https://cdn.tulaoda.top/cdn/images/2020-11/cytoscape-logo.svg
abbrlink: 22555
tags:
    - cytoscape
    - js
    - e-r
---

知识图谱项目是一个强视觉交互性的关系图可视化分析系统，很多模块都会涉及到对节点和关系的增删改查操作，常规的列表展示类数据通过表格展示，表单新增或编辑，而图谱类项目通常需要关系图（力导向图：又叫力学图、力导向布局图，是绘图的一种算法，关系图一般采用这种布局方式）去展示，节点和关系的新增编辑也需要前端去做一些复杂的交互设计。除此之外还有节点和关系的各种布局算法，大量数据展示的性能优化，节点动态展开时的局部布局渲染，画布的可扩展性，样式的自定义等等诸多技术难点。目前国内使用最多的两个已开源的前端可视化框架：阿里的 AntV、百度的 Echarts 对于关系图的支持都比较弱，不能完全满足项目中的需求。

## 先看看 cytoscape.js 是什么

cytoscape 是一个网络图的可视化工具，大量的生物分子/基因领域的公司用它来做可视化分析。由于它的通用性，慢慢的也被其他领域的人用来做网络的可视化和分析。cytoscape 分为两种，一种叫做 cytoscape desktop，是一个桌面软件，可以把数据导入然后生成可视化的网络图进行分析；另一种叫做 cytoscape.js，是一个 javascript 库，主要给开发人员使用，来在网页上生成可视化的网络图。我们要用的是后者。

官方介绍
Cytoscape.js 是一个用原生 JS 编写的开源图论（又名网络）库。你可以使用 Cytoscape.js 进行图形分析和可视化。

Cytoscape.js 允许你轻松显示和操作丰富的交互式图形。由于 Cytoscape.js 允许用户与图形进行交互，并且库允许客户端挂接到用户事件，因此 Cytoscape.js 可以轻松集成到你的应用程序中，尤其是因为 Cytoscape.js 支持桌面浏览器（例如 Chrome）和移动浏览器，就像在 iPad 上一样。Cytoscape.js 包含了开箱即用的所有手势，包括捏缩放，框选择，平移等。

Cytoscape.js 还考虑了图分析：该库包含图论中的许多有用功能。你可以在 Node.js 上无头使用 Cytoscape.js 在终端或 Web 服务器上进行图形分析。

Cytoscape.js 支持许多不同的图论用例。它支持有向图，无向图，混合图，循环，多图，复合图（一种超图），等等。

兼容所有现代浏览器、具有 ES5 和 canvas 支持的旧版浏览器。

## 架构和 API

使用 Cytoscape.js，开发者需要关注体系结构中的两个组件，即核心（即图形实例）和集合。在 Cytoscape.js 中，核心是开发者进入库的主要入口点。开发者可以从整体上运行布局，更改视口并在整个图形上执行其他操作。

核心提供了几种访问图中元素的函数。这些函数中的每一个都返回一个集合，即图形中的一组元素。集合上有可用的函数，这些函数使开发者可以过滤集合，对集合执行操作，遍历有关集合的图，获取有关集合中元素的数据等等。

有几种类型可以执行不同的功能，在文档中用来表示这些类型的变量名概述如下：

| 变量名 | 功能描述                         |
| ------ | -------------------------------- |
| cy     | 核心                             |
| eles   | 一个或多个元素（节点和边）的集合 |
| ele    | 单个元素（节点或边）的集合       |
| nodes  | 一个或多个节点的集合             |
| edges  | 一个或多个边的集合               |
| edge   | 单边的集合                       |
| layout | 布局                             |
| ani    | 动画                             |

默认情况下，函数会将引用返回给调用对象，以允许链接（例如 obj.fn1().fn2().fn3()）。除非另有说明，否则函数可以这种方式链接，除非指定了不同的返回值。这适用于核心和集合。

本文大量内容都是节选自官方文档翻译过来的，不免会有不太严谨的地方欢迎指出，如果你也对它感兴趣可以访问它的官方文档和 github 主页：

转载出处：https://www.cnblogs.com/zhilin/p/12074688.html
官方文档：https://js.cytoscape.org/
github 主页：https://github.com/cytoscape/cytoscape.js
